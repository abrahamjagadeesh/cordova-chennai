angular.module("weather",[]).directive("weatherWidget",function(n){"use strict";var e,t=["windy2","windy","wind","lightning5","lightning5","swony","rainy4","swony","rainy","rainy","rainy","rainy4","rainy3","snowflake","swony","swony","swony","sun","sun","sun","weather3","sun","weather2","sun","windy4","snowy3","cloudy","cloudy","cloudy","cloudy","cloudy","moon2","sun2","moon","sun","rainy","sun","lightning5","lightning5","lightning5","rainy4","snowflake","snowy3","snowy3","cloudy","lightning5","snowy3","lightning5","Celsius"],o="INXX0202",i="c",r="SELECT item.condition FROM weather.forecast WHERE location='"+o+"' AND u='"+i+"'",a=Math.floor((new Date).getTime()/1200/1e3),u="http://query.yahooapis.com/v1/public/yql?q="+encodeURIComponent(r)+"&format=json&_nocache="+a,l=n({method:"GET",url:u,headers:{"Content-type":"application/jsonp"}});return{templateUrl:"../template/weather.html",controller:function(n){n.temperature={}},link:function(n){l.success(function(o){e=o.query.results.channel.item.condition,n.temperature.temp=e.temp,n.temperature.text=e.text,n.temperature.code=t[e.code]})}}});